name: Main

on:
  workflow_dispatch:

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  fetch:
    runs-on: ubuntu-22.04
    strategy:
      matrix:
        branch: [master, branch-3.0, branch-2.11, branch-2.10]
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Create daily directory
        run: mkdir -p daily/${{ matrix.branch }}
      
      - name: Daily summary
        run: ./summary daily
